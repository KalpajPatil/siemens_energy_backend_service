2025-11-04 09:46:47.020 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Disconnecting from node 0 due to request timeout.
2025-11-04 09:46:46.726 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=10h50m44s58ms724µs600ns).
2025-11-04 09:46:49.328 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Cancelled in-flight FETCH request with correlation id 17146 due to node 0 being disconnected (elapsed time since creation: 39015594ms, elapsed time since send: 39015594ms, throttle time: 0ms, request timeout: 30000ms)
2025-11-04 09:46:47.144 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-email-service-1, groupId=email-service] Cancelled in-flight FETCH request with correlation id 17168 due to node 0 being disconnected (elapsed time since creation: 39015750ms, elapsed time since send: 39015750ms, throttle time: 0ms, request timeout: 30000ms)
2025-11-04 09:47:02.803 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-email-service-1, groupId=email-service] Node 2147483647 disconnected.
2025-11-04 09:46:47.027 [kafka-producer-network-thread | clock-producer-1] INFO  o.apache.kafka.clients.NetworkClient - [Producer clientId=clock-producer-1] Node 0 disconnected.
2025-11-04 09:47:02.807 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Error sending fetch request (sessionId=1480143192, epoch=10050) to node 0:
org.apache.kafka.common.errors.DisconnectException: null
2025-11-04 09:47:02.807 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-email-service-1, groupId=email-service] Error sending fetch request (sessionId=952404572, epoch=10049) to node 0:
org.apache.kafka.common.errors.DisconnectException: null
2025-11-04 09:47:02.809 [kafka-coordinator-heartbeat-thread | legacy-system] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Group coordinator host.docker.internal:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: session timed out without receiving a heartbeat response. isDisconnected: false. Rediscovery will be attempted.
2025-11-04 09:47:02.809 [kafka-coordinator-heartbeat-thread | legacy-system] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Requesting disconnect from last known coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 09:47:02.809 [kafka-coordinator-heartbeat-thread | email-service] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Group coordinator host.docker.internal:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: session timed out without receiving a heartbeat response. isDisconnected: false. Rediscovery will be attempted.
2025-11-04 09:47:02.809 [kafka-coordinator-heartbeat-thread | email-service] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Requesting disconnect from last known coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 09:47:02.843 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 09:47:02.886 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Attempt to heartbeat with Generation{generationId=55, memberId='consumer-email-service-1-fd2331f8-b6ca-44ac-8552-290e1070ef89', protocol='range'} and group instance id Optional.empty failed due to UNKNOWN_MEMBER_ID, resetting generation
2025-11-04 09:47:02.887 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2025-11-04 09:47:02.887 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 09:47:02.887 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2025-11-04 09:47:18.550 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Giving away all assigned partitions as lost since generation/memberID has been reset,indicating that consumer is in old state or no longer part of the group
2025-11-04 09:47:18.558 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Lost previously assigned partitions check-out-completed-0
2025-11-04 09:47:18.798 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Attempt to heartbeat with Generation{generationId=57, memberId='consumer-legacy-system-2-3678d5cd-5c34-426b-a2ee-1a5ba2886b98', protocol='range'} and group instance id Optional.empty failed due to UNKNOWN_MEMBER_ID, resetting generation
2025-11-04 09:47:18.811 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2025-11-04 09:47:18.811 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2025-11-04 09:47:18.811 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Giving away all assigned partitions as lost since generation/memberID has been reset,indicating that consumer is in old state or no longer part of the group
2025-11-04 09:47:18.811 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Lost previously assigned partitions check-out-completed-0
2025-11-04 09:47:18.814 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions lost: [check-out-completed-0]
2025-11-04 09:47:18.820 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions lost: [check-out-completed-0]
2025-11-04 09:47:18.822 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions revoked: [check-out-completed-0]
2025-11-04 09:47:18.826 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions revoked: [check-out-completed-0]
2025-11-04 09:47:18.843 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 09:47:18.880 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 09:47:19.214 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: need to re-join with the given member-id: consumer-email-service-1-0316b6b1-dac7-4502-a7ef-792b1aa3770c
2025-11-04 09:47:19.247 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 09:47:19.249 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: need to re-join with the given member-id: consumer-legacy-system-2-2a85726a-e883-4cb9-8f46-9546b8a1cebe
2025-11-04 09:47:19.250 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 09:47:19.388 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully joined group with generation Generation{generationId=57, memberId='consumer-email-service-1-0316b6b1-dac7-4502-a7ef-792b1aa3770c', protocol='range'}
2025-11-04 09:47:19.466 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Finished assignment for group at generation 57: {consumer-email-service-1-0316b6b1-dac7-4502-a7ef-792b1aa3770c=Assignment(partitions=[check-out-completed-0])}
2025-11-04 09:47:19.534 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully joined group with generation Generation{generationId=59, memberId='consumer-legacy-system-2-2a85726a-e883-4cb9-8f46-9546b8a1cebe', protocol='range'}
2025-11-04 09:47:19.536 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Finished assignment for group at generation 59: {consumer-legacy-system-2-2a85726a-e883-4cb9-8f46-9546b8a1cebe=Assignment(partitions=[check-out-completed-0])}
2025-11-04 09:47:19.625 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully synced group in generation Generation{generationId=57, memberId='consumer-email-service-1-0316b6b1-dac7-4502-a7ef-792b1aa3770c', protocol='range'}
2025-11-04 09:47:19.626 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 09:47:19.626 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Adding newly assigned partitions: check-out-completed-0
2025-11-04 09:47:19.646 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully synced group in generation Generation{generationId=59, memberId='consumer-legacy-system-2-2a85726a-e883-4cb9-8f46-9546b8a1cebe', protocol='range'}
2025-11-04 09:47:19.647 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 09:47:19.647 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Adding newly assigned partitions: check-out-completed-0
2025-11-04 09:47:19.655 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=61, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 09:47:19.657 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions assigned: [check-out-completed-0]
2025-11-04 09:47:19.676 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=61, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 09:47:19.676 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions assigned: [check-out-completed-0]
2025-11-04 10:20:31.371 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-email-service-1, groupId=email-service] Disconnecting from node 0 due to request timeout.
2025-11-04 10:20:31.213 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Disconnecting from node 0 due to request timeout.
2025-11-04 10:20:29.432 [HikariPool-1:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m6s945ms685µs800ns).
2025-11-04 10:20:35.164 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Cancelled in-flight FETCH request with correlation id 21312 due to node 0 being disconnected (elapsed time since creation: 157118ms, elapsed time since send: 157118ms, throttle time: 0ms, request timeout: 30000ms)
2025-11-04 10:20:35.171 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-email-service-1, groupId=email-service] Cancelled in-flight FETCH request with correlation id 21336 due to node 0 being disconnected (elapsed time since creation: 157329ms, elapsed time since send: 157329ms, throttle time: 0ms, request timeout: 30000ms)
2025-11-04 10:20:36.047 [kafka-coordinator-heartbeat-thread | email-service] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Group coordinator host.docker.internal:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: session timed out without receiving a heartbeat response. isDisconnected: false. Rediscovery will be attempted.
2025-11-04 10:20:36.047 [kafka-coordinator-heartbeat-thread | email-service] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Requesting disconnect from last known coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 10:20:36.047 [kafka-coordinator-heartbeat-thread | legacy-system] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Group coordinator host.docker.internal:9092 (id: 2147483647 rack: null) is unavailable or invalid due to cause: session timed out without receiving a heartbeat response. isDisconnected: false. Rediscovery will be attempted.
2025-11-04 10:20:36.125 [kafka-coordinator-heartbeat-thread | legacy-system] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Requesting disconnect from last known coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 10:20:36.437 [kafka-coordinator-heartbeat-thread | email-service] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-email-service-1, groupId=email-service] Client requested disconnect from node 2147483647
2025-11-04 10:20:36.438 [kafka-coordinator-heartbeat-thread | legacy-system] INFO  o.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Client requested disconnect from node 2147483647
2025-11-04 10:20:36.143 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Error sending fetch request (sessionId=1687131715, epoch=3538) to node 0:
org.apache.kafka.common.errors.DisconnectException: null
2025-11-04 10:20:36.328 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.clients.FetchSessionHandler - [Consumer clientId=consumer-email-service-1, groupId=email-service] Error sending fetch request (sessionId=177165400, epoch=3540) to node 0:
org.apache.kafka.common.errors.DisconnectException: null
2025-11-04 10:20:42.156 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 10:20:42.157 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 10:20:42.197 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 10:20:42.379 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 10:20:43.172 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 10:20:43.496 [kafka-coordinator-heartbeat-thread | email-service] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Attempt to heartbeat with Generation{generationId=57, memberId='consumer-email-service-1-0316b6b1-dac7-4502-a7ef-792b1aa3770c', protocol='range'} and group instance id Optional.empty failed due to UNKNOWN_MEMBER_ID, resetting generation
2025-11-04 10:20:43.497 [kafka-coordinator-heartbeat-thread | legacy-system] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Attempt to heartbeat with Generation{generationId=59, memberId='consumer-legacy-system-2-2a85726a-e883-4cb9-8f46-9546b8a1cebe', protocol='range'} and group instance id Optional.empty failed due to UNKNOWN_MEMBER_ID, resetting generation
2025-11-04 10:20:43.538 [kafka-coordinator-heartbeat-thread | email-service] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2025-11-04 10:20:43.538 [kafka-coordinator-heartbeat-thread | email-service] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2025-11-04 10:20:43.542 [kafka-coordinator-heartbeat-thread | legacy-system] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2025-11-04 10:20:43.542 [kafka-coordinator-heartbeat-thread | legacy-system] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: encountered UNKNOWN_MEMBER_ID from HEARTBEAT response
2025-11-04 10:20:43.899 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Giving away all assigned partitions as lost since generation/memberID has been reset,indicating that consumer is in old state or no longer part of the group
2025-11-04 10:20:43.912 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Giving away all assigned partitions as lost since generation/memberID has been reset,indicating that consumer is in old state or no longer part of the group
2025-11-04 10:20:43.978 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Lost previously assigned partitions check-out-completed-0
2025-11-04 10:20:43.982 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Lost previously assigned partitions check-out-completed-0
2025-11-04 10:20:43.991 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions lost: [check-out-completed-0]
2025-11-04 10:20:43.994 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions revoked: [check-out-completed-0]
2025-11-04 10:20:43.997 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions lost: [check-out-completed-0]
2025-11-04 10:20:44.047 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 10:20:44.061 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions revoked: [check-out-completed-0]
2025-11-04 10:20:44.080 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 10:20:44.334 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: need to re-join with the given member-id: consumer-legacy-system-2-707e1eff-e2eb-4153-b116-4cf079c2620b
2025-11-04 10:20:44.336 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 10:20:44.352 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: need to re-join with the given member-id: consumer-email-service-1-e9645da4-a7e3-44d6-b3bc-9a3dee36a863
2025-11-04 10:20:44.353 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 10:20:44.547 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully joined group with generation Generation{generationId=61, memberId='consumer-legacy-system-2-707e1eff-e2eb-4153-b116-4cf079c2620b', protocol='range'}
2025-11-04 10:20:44.552 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully joined group with generation Generation{generationId=59, memberId='consumer-email-service-1-e9645da4-a7e3-44d6-b3bc-9a3dee36a863', protocol='range'}
2025-11-04 10:20:44.568 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Finished assignment for group at generation 59: {consumer-email-service-1-e9645da4-a7e3-44d6-b3bc-9a3dee36a863=Assignment(partitions=[check-out-completed-0])}
2025-11-04 10:20:44.568 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Finished assignment for group at generation 61: {consumer-legacy-system-2-707e1eff-e2eb-4153-b116-4cf079c2620b=Assignment(partitions=[check-out-completed-0])}
2025-11-04 10:20:44.628 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully synced group in generation Generation{generationId=59, memberId='consumer-email-service-1-e9645da4-a7e3-44d6-b3bc-9a3dee36a863', protocol='range'}
2025-11-04 10:20:44.628 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully synced group in generation Generation{generationId=61, memberId='consumer-legacy-system-2-707e1eff-e2eb-4153-b116-4cf079c2620b', protocol='range'}
2025-11-04 10:20:44.639 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 10:20:44.639 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 10:20:44.639 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Adding newly assigned partitions: check-out-completed-0
2025-11-04 10:20:44.639 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Adding newly assigned partitions: check-out-completed-0
2025-11-04 10:20:44.688 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=61, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 10:20:44.688 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=61, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 10:20:44.690 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions assigned: [check-out-completed-0]
2025-11-04 10:20:44.690 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions assigned: [check-out-completed-0]
2025-11-04 10:59:32.000 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Revoke previously assigned partitions check-out-completed-0
2025-11-04 10:59:32.000 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Revoke previously assigned partitions check-out-completed-0
2025-11-04 10:59:32.015 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions revoked: [check-out-completed-0]
2025-11-04 10:59:32.015 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions revoked: [check-out-completed-0]
2025-11-04 10:59:32.018 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Member consumer-legacy-system-2-707e1eff-e2eb-4153-b116-4cf079c2620b sending LeaveGroup request to coordinator host.docker.internal:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2025-11-04 10:59:32.018 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Member consumer-email-service-1-e9645da4-a7e3-44d6-b3bc-9a3dee36a863 sending LeaveGroup request to coordinator host.docker.internal:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2025-11-04 10:59:32.028 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 10:59:32.028 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 10:59:32.028 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 10:59:32.028 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 10:59:32.028 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-email-service-1, groupId=email-service] Unsubscribed all topics or patterns and assigned partitions
2025-11-04 10:59:32.028 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Unsubscribed all topics or patterns and assigned partitions
2025-11-04 10:59:32.094 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 10:59:32.094 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 10:59:32.094 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 10:59:32.094 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 10:59:32.310 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 10:59:32.311 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 10:59:32.311 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 10:59:32.311 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 10:59:32.312 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 10:59:32.312 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 10:59:32.312 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 10:59:32.312 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 10:59:32.369 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-legacy-system-2 unregistered
2025-11-04 10:59:32.369 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-email-service-1 unregistered
2025-11-04 10:59:32.379 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: Consumer stopped
2025-11-04 10:59:32.379 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: Consumer stopped
2025-11-04 10:59:32.391 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 10:59:32.682 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 10:59:32.694 [SpringApplicationShutdownHook] INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=clock-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-11-04 10:59:32.715 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 10:59:32.715 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 10:59:32.716 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 10:59:32.716 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 10:59:32.718 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for clock-producer-1 unregistered
2025-11-04 10:59:32.785 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:59:32.830 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 10:59:32.838 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 12:18:53.256 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-04 12:18:53.329 [main] INFO  com.siemens.clock.ClockApplication - Starting ClockApplication using Java 17.0.9 with PID 43424 (C:\Users\kalpa\projects\siemens_energy\siemens_energy_backend_service\clock\target\classes started by kalpa in C:\Users\kalpa\projects\siemens_energy\siemens_energy_backend_service\clock)
2025-11-04 12:18:53.331 [main] DEBUG com.siemens.clock.ClockApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-04 12:18:53.333 [main] INFO  com.siemens.clock.ClockApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 12:18:54.585 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 12:18:54.587 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 12:18:54.587 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 12:18:54.602 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 12:18:54.602 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 12:18:54.602 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 12:18:54.649 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 12:18:54.649 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 12:18:54.649 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 12:18:54.668 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 12:18:54.669 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 12:18:54.669 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 12:18:54.681 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 12:18:54.682 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 12:18:54.682 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 12:18:54.698 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 12:18:54.698 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 12:18:54.698 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 12:18:54.714 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 12:18:54.714 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 12:18:54.714 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 12:18:55.040 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 12:18:55.122 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 1 JPA repository interface.
2025-11-04 12:18:56.553 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8084 (http)
2025-11-04 12:18:56.565 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8084"]
2025-11-04 12:18:56.568 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 12:18:56.569 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-04 12:18:56.696 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 12:18:56.697 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3282 ms
2025-11-04 12:18:57.292 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 12:18:57.374 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-04 12:18:57.422 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 12:18:57.790 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 12:18:57.837 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 12:18:58.221 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@340c7479
2025-11-04 12:18:58.222 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 12:18:58.285 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 12:18:58.321 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 12:18:59.377 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 12:18:59.466 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 12:18:59.901 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 12:19:01.560 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 12:19:02.691 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-04 12:19:02.860 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8084"]
2025-11-04 12:19:02.878 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8084 (http) with context path '/'
2025-11-04 12:19:02.948 [main] INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-email-service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	enable.metrics.push = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = email-service
	group.instance.id = null
	group.protocol = classic
	group.remote.assignor = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer

2025-11-04 12:19:03.027 [main] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-11-04 12:19:03.204 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.9.1
2025-11-04 12:19:03.206 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: f745dfdcee2b9851
2025-11-04 12:19:03.206 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1762255143202
2025-11-04 12:19:03.230 [main] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-email-service-1, groupId=email-service] Subscribed to topic(s): check-out-completed
2025-11-04 12:19:03.243 [main] INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-legacy-system-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	enable.metrics.push = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = legacy-system
	group.instance.id = null
	group.protocol = classic
	group.remote.assignor = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer

2025-11-04 12:19:03.244 [main] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-11-04 12:19:03.259 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.9.1
2025-11-04 12:19:03.259 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: f745dfdcee2b9851
2025-11-04 12:19:03.259 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1762255143259
2025-11-04 12:19:03.274 [main] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Subscribed to topic(s): check-out-completed
2025-11-04 12:19:03.307 [main] INFO  com.siemens.clock.ClockApplication - Started ClockApplication in 10.934 seconds (process running for 11.572)
2025-11-04 12:19:03.976 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-email-service-1, groupId=email-service] Cluster ID: kdK9fOiMTnaJuwKmImKciQ
2025-11-04 12:19:03.976 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Cluster ID: kdK9fOiMTnaJuwKmImKciQ
2025-11-04 12:19:03.983 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 12:19:03.983 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 12:19:03.988 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 12:19:03.988 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 12:19:04.029 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: need to re-join with the given member-id: consumer-legacy-system-2-c2c113ba-fbcd-4afc-aea0-d6ff5de16d17
2025-11-04 12:19:04.029 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: need to re-join with the given member-id: consumer-email-service-1-729c57f9-cf21-4c07-b090-068df0d2f2b2
2025-11-04 12:19:04.029 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 12:19:04.029 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 12:19:04.057 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully joined group with generation Generation{generationId=63, memberId='consumer-legacy-system-2-c2c113ba-fbcd-4afc-aea0-d6ff5de16d17', protocol='range'}
2025-11-04 12:19:04.063 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully joined group with generation Generation{generationId=61, memberId='consumer-email-service-1-729c57f9-cf21-4c07-b090-068df0d2f2b2', protocol='range'}
2025-11-04 12:19:04.086 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Finished assignment for group at generation 63: {consumer-legacy-system-2-c2c113ba-fbcd-4afc-aea0-d6ff5de16d17=Assignment(partitions=[check-out-completed-0])}
2025-11-04 12:19:04.086 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Finished assignment for group at generation 61: {consumer-email-service-1-729c57f9-cf21-4c07-b090-068df0d2f2b2=Assignment(partitions=[check-out-completed-0])}
2025-11-04 12:19:04.149 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully synced group in generation Generation{generationId=63, memberId='consumer-legacy-system-2-c2c113ba-fbcd-4afc-aea0-d6ff5de16d17', protocol='range'}
2025-11-04 12:19:04.150 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully synced group in generation Generation{generationId=61, memberId='consumer-email-service-1-729c57f9-cf21-4c07-b090-068df0d2f2b2', protocol='range'}
2025-11-04 12:19:04.151 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 12:19:04.151 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 12:19:04.154 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Adding newly assigned partitions: check-out-completed-0
2025-11-04 12:19:04.154 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Adding newly assigned partitions: check-out-completed-0
2025-11-04 12:19:04.175 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=61, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 12:19:04.175 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=61, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 12:19:04.179 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions assigned: [check-out-completed-0]
2025-11-04 12:19:04.179 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions assigned: [check-out-completed-0]
2025-11-04 12:19:12.483 [http-nio-8084-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 12:19:12.485 [http-nio-8084-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 12:19:12.498 [http-nio-8084-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 12 ms
2025-11-04 13:01:36.924 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Revoke previously assigned partitions check-out-completed-0
2025-11-04 13:01:36.924 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Revoke previously assigned partitions check-out-completed-0
2025-11-04 13:01:36.939 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions revoked: [check-out-completed-0]
2025-11-04 13:01:36.939 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions revoked: [check-out-completed-0]
2025-11-04 13:01:36.943 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Member consumer-legacy-system-2-c2c113ba-fbcd-4afc-aea0-d6ff5de16d17 sending LeaveGroup request to coordinator host.docker.internal:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2025-11-04 13:01:36.943 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Member consumer-email-service-1-729c57f9-cf21-4c07-b090-068df0d2f2b2 sending LeaveGroup request to coordinator host.docker.internal:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2025-11-04 13:01:36.952 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:01:36.952 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:01:36.952 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:01:36.952 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:01:36.952 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-email-service-1, groupId=email-service] Unsubscribed all topics or patterns and assigned partitions
2025-11-04 13:01:36.952 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Unsubscribed all topics or patterns and assigned partitions
2025-11-04 13:01:36.976 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:01:36.976 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:01:36.977 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:01:36.977 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:01:37.208 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 13:01:37.208 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 13:01:37.208 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 13:01:37.208 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 13:01:37.213 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 13:01:37.213 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 13:01:37.213 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 13:01:37.213 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 13:01:37.235 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-legacy-system-2 unregistered
2025-11-04 13:01:37.235 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-email-service-1 unregistered
2025-11-04 13:01:37.242 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: Consumer stopped
2025-11-04 13:01:37.242 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: Consumer stopped
2025-11-04 13:01:37.250 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 13:01:37.455 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 13:01:37.487 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 13:01:37.518 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 13:01:37.526 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 13:02:14.988 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-04 13:02:15.070 [main] INFO  com.siemens.clock.ClockApplication - Starting ClockApplication using Java 17.0.9 with PID 59788 (C:\Users\kalpa\projects\siemens_energy\siemens_energy_backend_service\clock\target\classes started by kalpa in C:\Users\kalpa\projects\siemens_energy\siemens_energy_backend_service\clock)
2025-11-04 13:02:15.071 [main] DEBUG com.siemens.clock.ClockApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-04 13:02:15.073 [main] INFO  com.siemens.clock.ClockApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 13:02:16.332 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:02:16.333 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:02:16.335 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:02:16.348 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:02:16.348 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:02:16.349 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:02:16.388 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:02:16.389 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:02:16.389 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:02:16.410 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:02:16.411 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:02:16.411 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:02:16.427 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:02:16.427 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:02:16.428 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:02:16.447 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:02:16.448 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:02:16.448 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:02:16.465 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:02:16.465 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:02:16.466 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:02:16.754 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 13:02:16.833 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 68 ms. Found 1 JPA repository interface.
2025-11-04 13:02:18.346 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8084 (http)
2025-11-04 13:02:18.361 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8084"]
2025-11-04 13:02:18.364 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 13:02:18.364 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-04 13:02:18.547 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 13:02:18.548 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3381 ms
2025-11-04 13:02:19.335 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 13:02:19.424 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-04 13:02:19.479 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 13:02:19.950 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 13:02:19.995 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 13:02:20.442 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@340c7479
2025-11-04 13:02:20.444 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 13:02:20.533 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 13:02:20.604 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 13:02:21.961 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 13:02:22.088 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 13:02:22.667 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 13:02:24.290 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 13:02:25.704 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-04 13:02:25.870 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8084"]
2025-11-04 13:02:25.891 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8084 (http) with context path '/'
2025-11-04 13:02:25.966 [main] INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-email-service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	enable.metrics.push = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = email-service
	group.instance.id = null
	group.protocol = classic
	group.remote.assignor = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer

2025-11-04 13:02:26.054 [main] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-11-04 13:02:26.292 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.9.1
2025-11-04 13:02:26.292 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: f745dfdcee2b9851
2025-11-04 13:02:26.293 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1762257746288
2025-11-04 13:02:26.313 [main] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-email-service-1, groupId=email-service] Subscribed to topic(s): check-out-completed
2025-11-04 13:02:26.325 [main] INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-legacy-system-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	enable.metrics.push = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = legacy-system
	group.instance.id = null
	group.protocol = classic
	group.remote.assignor = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer

2025-11-04 13:02:26.326 [main] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-11-04 13:02:26.339 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.9.1
2025-11-04 13:02:26.339 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: f745dfdcee2b9851
2025-11-04 13:02:26.339 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1762257746339
2025-11-04 13:02:26.347 [main] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Subscribed to topic(s): check-out-completed
2025-11-04 13:02:26.379 [main] INFO  com.siemens.clock.ClockApplication - Started ClockApplication in 12.26 seconds (process running for 12.938)
2025-11-04 13:02:27.105 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Cluster ID: kdK9fOiMTnaJuwKmImKciQ
2025-11-04 13:02:27.106 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-email-service-1, groupId=email-service] Cluster ID: kdK9fOiMTnaJuwKmImKciQ
2025-11-04 13:02:27.106 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 13:02:27.106 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 13:02:27.114 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 13:02:27.114 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 13:02:27.161 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: need to re-join with the given member-id: consumer-email-service-1-030960ea-8299-44d5-ae7b-330f0bf63ecc
2025-11-04 13:02:27.161 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: need to re-join with the given member-id: consumer-legacy-system-2-33b0339e-4c83-4e78-8cd9-5ff097c4541c
2025-11-04 13:02:27.162 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 13:02:27.162 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 13:02:27.171 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully joined group with generation Generation{generationId=63, memberId='consumer-email-service-1-030960ea-8299-44d5-ae7b-330f0bf63ecc', protocol='range'}
2025-11-04 13:02:27.172 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully joined group with generation Generation{generationId=65, memberId='consumer-legacy-system-2-33b0339e-4c83-4e78-8cd9-5ff097c4541c', protocol='range'}
2025-11-04 13:02:27.185 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Finished assignment for group at generation 65: {consumer-legacy-system-2-33b0339e-4c83-4e78-8cd9-5ff097c4541c=Assignment(partitions=[check-out-completed-0])}
2025-11-04 13:02:27.185 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Finished assignment for group at generation 63: {consumer-email-service-1-030960ea-8299-44d5-ae7b-330f0bf63ecc=Assignment(partitions=[check-out-completed-0])}
2025-11-04 13:02:27.199 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully synced group in generation Generation{generationId=63, memberId='consumer-email-service-1-030960ea-8299-44d5-ae7b-330f0bf63ecc', protocol='range'}
2025-11-04 13:02:27.199 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully synced group in generation Generation{generationId=65, memberId='consumer-legacy-system-2-33b0339e-4c83-4e78-8cd9-5ff097c4541c', protocol='range'}
2025-11-04 13:02:27.200 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 13:02:27.200 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 13:02:27.203 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Adding newly assigned partitions: check-out-completed-0
2025-11-04 13:02:27.203 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Adding newly assigned partitions: check-out-completed-0
2025-11-04 13:02:27.217 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=61, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 13:02:27.217 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=61, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 13:02:27.219 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions assigned: [check-out-completed-0]
2025-11-04 13:02:27.219 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions assigned: [check-out-completed-0]
2025-11-04 13:02:51.405 [http-nio-8084-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 13:02:51.406 [http-nio-8084-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 13:02:51.415 [http-nio-8084-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 9 ms
2025-11-04 13:02:52.403 [http-nio-8084-exec-2] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_IN for employee: i9j1k3l5
2025-11-04 13:03:01.469 [http-nio-8084-exec-3] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_IN for employee: m7n8o2p4
2025-11-04 13:03:08.329 [http-nio-8084-exec-4] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_IN for employee: u4v7w8x9
2025-11-04 13:03:13.926 [http-nio-8084-exec-5] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_IN for employee: q6r5s1t3
2025-11-04 13:03:20.163 [http-nio-8084-exec-6] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_IN for employee: c4d5e6f7
2025-11-04 13:03:54.095 [http-nio-8084-exec-7] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_OUT for employee: i9j1k3l5
2025-11-04 13:03:54.114 [http-nio-8084-exec-7] INFO  c.s.clock.service.AttendanceService - inside handleCheckOut
2025-11-04 13:03:54.115 [http-nio-8084-exec-7] INFO  c.s.clock.service.AttendanceService - hours worked = 0.0
2025-11-04 13:03:54.136 [http-nio-8084-exec-7] INFO  c.s.clock.service.AttendanceService - check-out event = 9cba2377-5562-481f-ab4f-41aa21b7732c
2025-11-04 13:03:54.178 [http-nio-8084-exec-7] INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = clock-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.springframework.kafka.support.serializer.JsonSerializer

2025-11-04 13:03:54.185 [http-nio-8084-exec-7] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-11-04 13:03:54.238 [http-nio-8084-exec-7] INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=clock-producer-1] Instantiated an idempotent producer.
2025-11-04 13:03:54.360 [http-nio-8084-exec-7] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.9.1
2025-11-04 13:03:54.361 [http-nio-8084-exec-7] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: f745dfdcee2b9851
2025-11-04 13:03:54.361 [http-nio-8084-exec-7] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1762257834360
2025-11-04 13:03:54.419 [kafka-producer-network-thread | clock-producer-1] INFO  org.apache.kafka.clients.Metadata - [Producer clientId=clock-producer-1] Cluster ID: kdK9fOiMTnaJuwKmImKciQ
2025-11-04 13:03:54.459 [kafka-producer-network-thread | clock-producer-1] INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=clock-producer-1] ProducerId set to 21 with epoch 0
2025-11-04 13:03:54.717 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for email notification: i9j1k3l5
2025-11-04 13:03:54.717 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for legacy reporting: i9j1k3l5
2025-11-04 13:03:54.730 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'legacy-api' with max attempts rate '5'  for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:03:54.730 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'email-service' with max attempts rate '3'  for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:03:54.740 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:03:54.740 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:03:54.744 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: i9j1k3l5
2025-11-04 13:03:54.744 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: i9j1k3l5
2025-11-04 13:03:54.803 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:03:54.803 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:03:54.822 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:03:54.823 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:03:54.835 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.0, employeeId=i9j1k3l5}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:03:54.835 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.00 hours today, to=i9j1k3l5@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:03:55.026 [http-nio-8084-exec-8] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to i9j1k3l5@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:03:55.026 [http-nio-8084-exec-9] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.0 hours for employee i9j1k3l5
2025-11-04 13:03:55.026 [http-nio-8084-exec-8] WARN  c.s.clock.mock.MockExternalService - MOCK EMAIL: Simulating failure for i9j1k3l5@company.com
2025-11-04 13:03:55.026 [http-nio-8084-exec-9] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee i9j1k3l5
2025-11-04 13:03:55.070 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:03:55.070 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:03:55.073 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:03:55.073 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:03:55.080 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:03:55.079 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' ignored an exception:
com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.EmailService.sendCheckOutEmail(EmailService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.EmailService$$SpringCGLIB$$0.sendCheckOutEmail(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleEmailNotification(CheckOutEventConsumer.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:03:55.091 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:03:55.089693200+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 336 ms
2025-11-04 13:03:55.092 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:03:55.089693200+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded an error which has been ignored: 'com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 336 ms
2025-11-04 13:03:55.746 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:03:55.747 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: i9j1k3l5
2025-11-04 13:03:55.769 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:03:55.784 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:03:55.791 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.00 hours today, to=i9j1k3l5@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:03:55.861 [http-nio-8084-exec-10] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to i9j1k3l5@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:03:55.865 [http-nio-8084-exec-10] WARN  c.s.clock.mock.MockExternalService - MOCK EMAIL: Simulating failure for i9j1k3l5@company.com
2025-11-04 13:03:55.887 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:03:55.889 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:03:55.910 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' ignored an exception:
com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.EmailService.sendCheckOutEmail(EmailService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.EmailService$$SpringCGLIB$$0.sendCheckOutEmail(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleEmailNotification(CheckOutEventConsumer.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:03:55.927 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:03:55.927328200+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded an error which has been ignored: 'com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 163 ms
2025-11-04 13:03:56.119 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:03:56.120 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: i9j1k3l5
2025-11-04 13:03:56.122 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:03:56.124 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:03:56.125 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.0, employeeId=i9j1k3l5}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:03:56.141 [http-nio-8084-exec-1] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.0 hours for employee i9j1k3l5
2025-11-04 13:03:56.950 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:03:56.950 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: i9j1k3l5
2025-11-04 13:03:56.951 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:03:56.956 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:03:56.957 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.00 hours today, to=i9j1k3l5@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:03:56.972 [http-nio-8084-exec-2] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to i9j1k3l5@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:03:58.747 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:03:58.747 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:03:58.779 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Successfully sent email to employee: i9j1k3l5
2025-11-04 13:03:58.780 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' succeeded:
2025-11-04 13:03:58.780 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:03:58.780278900+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded a successful call. Elapsed time: 1829 ms
2025-11-04 13:04:00.403 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:04:00.404 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:04:00.415 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Successfully reported hours for employee: i9j1k3l5
2025-11-04 13:04:00.415 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' succeeded:
2025-11-04 13:04:00.415 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:04:00.415926100+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded a successful call. Elapsed time: 4295 ms
2025-11-04 13:04:36.746 [http-nio-8084-exec-3] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_OUT for employee: u4v7w8x9
2025-11-04 13:04:36.760 [http-nio-8084-exec-3] INFO  c.s.clock.service.AttendanceService - inside handleCheckOut
2025-11-04 13:04:36.760 [http-nio-8084-exec-3] INFO  c.s.clock.service.AttendanceService - hours worked = 0.016666666666666666
2025-11-04 13:04:36.762 [http-nio-8084-exec-3] INFO  c.s.clock.service.AttendanceService - check-out event = e2b13927-d4cb-48be-8524-e044957771bc
2025-11-04 13:04:36.784 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for legacy reporting: u4v7w8x9
2025-11-04 13:04:36.784 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for email notification: u4v7w8x9
2025-11-04 13:04:36.785 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'legacy-api' with max attempts rate '5'  for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:04:36.792 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:04:36.792 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'email-service' with max attempts rate '3'  for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:04:36.793 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: u4v7w8x9
2025-11-04 13:04:36.793 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:04:36.794 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: u4v7w8x9
2025-11-04 13:04:36.798 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:04:36.801 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:04:36.803 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:04:36.802 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:04:36.805 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.02 hours today, to=u4v7w8x9@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:04:36.806 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.016666666666666666, employeeId=u4v7w8x9}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:04:36.825 [http-nio-8084-exec-5] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to u4v7w8x9@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:04:36.825 [http-nio-8084-exec-4] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.016666666666666666 hours for employee u4v7w8x9
2025-11-04 13:04:36.825 [http-nio-8084-exec-5] WARN  c.s.clock.mock.MockExternalService - MOCK EMAIL: Simulating failure for u4v7w8x9@company.com
2025-11-04 13:04:36.829 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:04:36.834 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:04:36.840 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' ignored an exception:
com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.EmailService.sendCheckOutEmail(EmailService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.EmailService$$SpringCGLIB$$0.sendCheckOutEmail(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleEmailNotification(CheckOutEventConsumer.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:04:36.842 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:04:36.840794900+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded an error which has been ignored: 'com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 45 ms
2025-11-04 13:04:37.351 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:04:37.352 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: u4v7w8x9
2025-11-04 13:04:37.354 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:04:37.357 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:04:37.358 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.02 hours today, to=u4v7w8x9@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:04:37.370 [http-nio-8084-exec-6] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to u4v7w8x9@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:04:38.186 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:04:38.187 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:04:38.200 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Successfully sent email to employee: u4v7w8x9
2025-11-04 13:04:38.200 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' succeeded:
2025-11-04 13:04:38.201 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:04:38.200553400+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded a successful call. Elapsed time: 849 ms
2025-11-04 13:04:39.911 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:04:39.912 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:04:39.924 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Successfully reported hours for employee: u4v7w8x9
2025-11-04 13:04:39.925 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' succeeded:
2025-11-04 13:04:39.925 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:04:39.925121800+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded a successful call. Elapsed time: 3131 ms
2025-11-04 13:05:07.484 [http-nio-8084-exec-7] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_OUT for employee: q6r5s1t3
2025-11-04 13:05:07.497 [http-nio-8084-exec-7] INFO  c.s.clock.service.AttendanceService - inside handleCheckOut
2025-11-04 13:05:07.497 [http-nio-8084-exec-7] INFO  c.s.clock.service.AttendanceService - hours worked = 0.016666666666666666
2025-11-04 13:05:07.499 [http-nio-8084-exec-7] INFO  c.s.clock.service.AttendanceService - check-out event = 2aa07f6c-c416-43e7-8b71-86b1b6a4b5a5
2025-11-04 13:05:07.512 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for email notification: q6r5s1t3
2025-11-04 13:05:07.512 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for legacy reporting: q6r5s1t3
2025-11-04 13:05:07.513 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'legacy-api' with max attempts rate '5'  for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:05:07.513 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'email-service' with max attempts rate '3'  for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:05:07.515 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:05:07.515 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:05:07.516 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: q6r5s1t3
2025-11-04 13:05:07.517 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: q6r5s1t3
2025-11-04 13:05:07.519 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:05:07.519 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:05:07.522 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:07.523 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.02 hours today, to=q6r5s1t3@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:07.524 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:07.526 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.016666666666666666, employeeId=q6r5s1t3}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:07.538 [http-nio-8084-exec-8] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to q6r5s1t3@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:05:07.539 [http-nio-8084-exec-9] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.016666666666666666 hours for employee q6r5s1t3
2025-11-04 13:05:07.539 [http-nio-8084-exec-8] WARN  c.s.clock.mock.MockExternalService - MOCK EMAIL: Simulating failure for q6r5s1t3@company.com
2025-11-04 13:05:07.539 [http-nio-8084-exec-9] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee q6r5s1t3
2025-11-04 13:05:07.543 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:05:07.548 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:07.550 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:05:07.553 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:07.555 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:05:07.557 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' ignored an exception:
com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.EmailService.sendCheckOutEmail(EmailService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.EmailService$$SpringCGLIB$$0.sendCheckOutEmail(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleEmailNotification(CheckOutEventConsumer.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:05:07.566 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:05:07.564803+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded an error which has been ignored: 'com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 41 ms
2025-11-04 13:05:07.560 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:05:07.559802200+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 40 ms
2025-11-04 13:05:08.080 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:05:08.081 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: q6r5s1t3
2025-11-04 13:05:08.087 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:05:08.097 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:08.099 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.02 hours today, to=q6r5s1t3@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:08.120 [http-nio-8084-exec-10] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to q6r5s1t3@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:05:08.577 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:05:08.578 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: q6r5s1t3
2025-11-04 13:05:08.579 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:05:08.580 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:08.580 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.016666666666666666, employeeId=q6r5s1t3}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:08.587 [http-nio-8084-exec-2] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.016666666666666666 hours for employee q6r5s1t3
2025-11-04 13:05:08.784 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:05:08.786 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:08.813 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Successfully sent email to employee: q6r5s1t3
2025-11-04 13:05:08.813 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' succeeded:
2025-11-04 13:05:08.813 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:05:08.813163200+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded a successful call. Elapsed time: 731 ms
2025-11-04 13:05:12.379 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:05:12.379 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:12.389 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Successfully reported hours for employee: q6r5s1t3
2025-11-04 13:05:12.389 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' succeeded:
2025-11-04 13:05:12.389 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:05:12.389875800+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded a successful call. Elapsed time: 3811 ms
2025-11-04 13:05:35.893 [http-nio-8084-exec-1] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_OUT for employee: c4d5e6f7
2025-11-04 13:05:35.903 [http-nio-8084-exec-1] INFO  c.s.clock.service.AttendanceService - inside handleCheckOut
2025-11-04 13:05:35.903 [http-nio-8084-exec-1] INFO  c.s.clock.service.AttendanceService - hours worked = 0.03333333333333333
2025-11-04 13:05:35.905 [http-nio-8084-exec-1] INFO  c.s.clock.service.AttendanceService - check-out event = fcba9467-0d36-44d7-9261-9cd11bad4c3b
2025-11-04 13:05:35.922 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for legacy reporting: c4d5e6f7
2025-11-04 13:05:35.923 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'legacy-api' with max attempts rate '5'  for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:05:35.929 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for email notification: c4d5e6f7
2025-11-04 13:05:35.930 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:05:35.931 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: c4d5e6f7
2025-11-04 13:05:35.932 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'email-service' with max attempts rate '3'  for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:05:35.933 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:05:35.933 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:05:35.933 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: c4d5e6f7
2025-11-04 13:05:35.934 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:35.935 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:05:35.935 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.03333333333333333, employeeId=c4d5e6f7}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:35.937 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:35.937 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.03 hours today, to=c4d5e6f7@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:35.990 [http-nio-8084-exec-3] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.03333333333333333 hours for employee c4d5e6f7
2025-11-04 13:05:35.990 [http-nio-8084-exec-3] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee c4d5e6f7
2025-11-04 13:05:35.986 [http-nio-8084-exec-5] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to c4d5e6f7@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:05:36.008 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:05:36.009 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:36.021 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:05:36.027 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:05:36.027277200+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 90 ms
2025-11-04 13:05:36.781 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:05:36.781 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:36.793 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Successfully sent email to employee: c4d5e6f7
2025-11-04 13:05:36.793 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' succeeded:
2025-11-04 13:05:36.793 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:05:36.793219+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded a successful call. Elapsed time: 859 ms
2025-11-04 13:05:37.046 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:05:37.053 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: c4d5e6f7
2025-11-04 13:05:37.056 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:05:37.059 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:37.060 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.03333333333333333, employeeId=c4d5e6f7}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:37.081 [http-nio-8084-exec-6] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.03333333333333333 hours for employee c4d5e6f7
2025-11-04 13:05:37.082 [http-nio-8084-exec-6] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee c4d5e6f7
2025-11-04 13:05:37.095 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:05:37.097 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:37.102 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:05:37.105 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:05:37.105503600+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 52 ms
2025-11-04 13:05:39.130 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:05:39.131 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: c4d5e6f7
2025-11-04 13:05:39.131 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:05:39.132 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:39.133 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.03333333333333333, employeeId=c4d5e6f7}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:39.140 [http-nio-8084-exec-4] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.03333333333333333 hours for employee c4d5e6f7
2025-11-04 13:05:39.140 [http-nio-8084-exec-4] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee c4d5e6f7
2025-11-04 13:05:39.142 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:05:39.142 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:39.143 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:05:39.144 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:05:39.144723300+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 12 ms
2025-11-04 13:05:43.146 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:05:43.146 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: c4d5e6f7
2025-11-04 13:05:43.147 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:05:43.147 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:43.148 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.03333333333333333, employeeId=c4d5e6f7}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:43.154 [http-nio-8084-exec-7] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.03333333333333333 hours for employee c4d5e6f7
2025-11-04 13:05:43.154 [http-nio-8084-exec-7] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee c4d5e6f7
2025-11-04 13:05:43.156 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:05:43.156 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:43.158 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:05:43.158 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:05:43.158235300+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 11 ms
2025-11-04 13:05:51.168 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:05:51.169 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: c4d5e6f7
2025-11-04 13:05:51.169 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:05:51.170 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:05:51.171 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.03333333333333333, employeeId=c4d5e6f7}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:05:51.175 [http-nio-8084-exec-8] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.03333333333333333 hours for employee c4d5e6f7
2025-11-04 13:05:53.594 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:05:53.595 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:05:53.606 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Successfully reported hours for employee: c4d5e6f7
2025-11-04 13:05:53.607 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' succeeded:
2025-11-04 13:05:53.607 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:05:53.607178600+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded a successful call. Elapsed time: 2437 ms
2025-11-04 13:06:29.853 [http-nio-8084-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('"' (code 34)): was expecting comma to separate Object entries]
2025-11-04 13:06:44.256 [http-nio-8084-exec-2] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_OUT for employee: m7n8o2p4
2025-11-04 13:06:44.269 [http-nio-8084-exec-2] INFO  c.s.clock.service.AttendanceService - inside handleCheckOut
2025-11-04 13:06:44.269 [http-nio-8084-exec-2] INFO  c.s.clock.service.AttendanceService - hours worked = 0.05
2025-11-04 13:06:44.270 [http-nio-8084-exec-2] INFO  c.s.clock.service.AttendanceService - check-out event = f094178d-63e2-49bc-b63c-0a6b490f7351
2025-11-04 13:06:44.283 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for email notification: m7n8o2p4
2025-11-04 13:06:44.284 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'email-service' with max attempts rate '3'  for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:06:44.288 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for legacy reporting: m7n8o2p4
2025-11-04 13:06:44.289 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'legacy-api' with max attempts rate '5'  for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:06:44.290 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:06:44.290 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:06:44.290 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: m7n8o2p4
2025-11-04 13:06:44.290 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: m7n8o2p4
2025-11-04 13:06:44.292 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:06:44.294 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:06:44.296 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:06:44.297 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.05, employeeId=m7n8o2p4}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:06:44.297 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:06:44.298 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.05 hours today, to=m7n8o2p4@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:06:44.318 [http-nio-8084-exec-1] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.05 hours for employee m7n8o2p4
2025-11-04 13:06:44.318 [http-nio-8084-exec-1] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee m7n8o2p4
2025-11-04 13:06:44.321 [http-nio-8084-exec-3] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to m7n8o2p4@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:06:44.321 [http-nio-8084-exec-3] WARN  c.s.clock.mock.MockExternalService - MOCK EMAIL: Simulating failure for m7n8o2p4@company.com
2025-11-04 13:06:44.324 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:06:44.326 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:06:44.328 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:06:44.330 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:06:44.332 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:06:44.336 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' ignored an exception:
com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.EmailService.sendCheckOutEmail(EmailService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.EmailService$$SpringCGLIB$$0.sendCheckOutEmail(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleEmailNotification(CheckOutEventConsumer.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:06:44.337 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:06:44.335008700+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 40 ms
2025-11-04 13:06:44.341 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:06:44.341005200+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded an error which has been ignored: 'com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 45 ms
2025-11-04 13:06:44.843 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:06:44.843 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: m7n8o2p4
2025-11-04 13:06:44.845 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:06:44.846 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:06:44.846 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{body=You worked 0.05 hours today, to=m7n8o2p4@company.com, subject=Daily Work Summary - 2025-11-04}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:06:44.853 [http-nio-8084-exec-5] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to m7n8o2p4@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:06:45.354 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:06:45.355 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: m7n8o2p4
2025-11-04 13:06:45.356 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:06:45.357 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:06:45.358 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.05, employeeId=m7n8o2p4}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:06:45.367 [http-nio-8084-exec-6] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.05 hours for employee m7n8o2p4
2025-11-04 13:06:45.368 [http-nio-8084-exec-6] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee m7n8o2p4
2025-11-04 13:06:45.372 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:06:45.373 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:06:45.375 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:06:45.376 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:06:45.376581600+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 21 ms
2025-11-04 13:06:46.650 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:06:46.650 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:06:46.658 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Successfully sent email to employee: m7n8o2p4
2025-11-04 13:06:46.658 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' succeeded:
2025-11-04 13:06:46.658 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:06:46.658071100+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded a successful call. Elapsed time: 1813 ms
2025-11-04 13:06:47.380 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:06:47.381 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: m7n8o2p4
2025-11-04 13:06:47.381 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:06:47.382 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:06:47.382 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.05, employeeId=m7n8o2p4}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:06:47.387 [http-nio-8084-exec-4] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.05 hours for employee m7n8o2p4
2025-11-04 13:06:47.387 [http-nio-8084-exec-4] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee m7n8o2p4
2025-11-04 13:06:47.389 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:06:47.389 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:06:47.391 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:06:47.392 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:06:47.391009300+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 10 ms
2025-11-04 13:06:51.394 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:06:51.395 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: m7n8o2p4
2025-11-04 13:06:51.395 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:06:51.396 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:06:51.396 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.05, employeeId=m7n8o2p4}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:06:51.401 [http-nio-8084-exec-7] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.05 hours for employee m7n8o2p4
2025-11-04 13:06:56.266 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:06:56.266 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:06:56.272 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Successfully reported hours for employee: m7n8o2p4
2025-11-04 13:06:56.272 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' succeeded:
2025-11-04 13:06:56.272 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:06:56.272494900+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded a successful call. Elapsed time: 4877 ms
2025-11-04 13:08:07.966 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Revoke previously assigned partitions check-out-completed-0
2025-11-04 13:08:07.966 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Revoke previously assigned partitions check-out-completed-0
2025-11-04 13:08:07.968 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions revoked: [check-out-completed-0]
2025-11-04 13:08:07.968 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions revoked: [check-out-completed-0]
2025-11-04 13:08:07.969 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Member consumer-legacy-system-2-33b0339e-4c83-4e78-8cd9-5ff097c4541c sending LeaveGroup request to coordinator host.docker.internal:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2025-11-04 13:08:07.969 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Member consumer-email-service-1-030960ea-8299-44d5-ae7b-330f0bf63ecc sending LeaveGroup request to coordinator host.docker.internal:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2025-11-04 13:08:07.970 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:08:07.970 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:08:07.970 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:08:07.970 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:08:07.970 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Unsubscribed all topics or patterns and assigned partitions
2025-11-04 13:08:07.970 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-email-service-1, groupId=email-service] Unsubscribed all topics or patterns and assigned partitions
2025-11-04 13:08:07.975 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:08:07.976 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:08:07.976 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:08:07.976 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:08:08.117 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 13:08:08.117 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 13:08:08.117 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 13:08:08.117 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 13:08:08.127 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-email-service-1 unregistered
2025-11-04 13:08:08.130 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: Consumer stopped
2025-11-04 13:08:08.398 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 13:08:08.399 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 13:08:08.399 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 13:08:08.399 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 13:08:08.404 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-legacy-system-2 unregistered
2025-11-04 13:08:08.406 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: Consumer stopped
2025-11-04 13:08:08.408 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 13:08:08.665 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 13:08:08.668 [SpringApplicationShutdownHook] INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=clock-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-11-04 13:08:08.671 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 13:08:08.671 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 13:08:08.671 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 13:08:08.671 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 13:08:08.672 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for clock-producer-1 unregistered
2025-11-04 13:08:08.678 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 13:08:08.684 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 13:08:08.688 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 13:08:13.538 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-04 13:08:13.627 [main] INFO  com.siemens.clock.ClockApplication - Starting ClockApplication using Java 17.0.9 with PID 19500 (C:\Users\kalpa\projects\siemens_energy\siemens_energy_backend_service\clock\target\classes started by kalpa in C:\Users\kalpa\projects\siemens_energy\siemens_energy_backend_service\clock)
2025-11-04 13:08:13.628 [main] DEBUG com.siemens.clock.ClockApplication - Running with Spring Boot v3.5.7, Spring v6.2.12
2025-11-04 13:08:13.630 [main] INFO  com.siemens.clock.ClockApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 13:08:14.949 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:08:14.951 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:08:14.954 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:08:14.977 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:08:14.978 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:08:14.978 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:08:15.026 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:08:15.026 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:08:15.027 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:08:15.048 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:08:15.049 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:08:15.049 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:08:15.063 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:08:15.064 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:08:15.064 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:08:15.085 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:08:15.086 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:08:15.086 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:08:15.105 [main] DEBUG i.g.r.s.u.RxJava2OnClasspathCondition - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-04 13:08:15.106 [main] DEBUG i.g.r.s.u.RxJava3OnClasspathCondition - RxJava3 related Aspect extensions are not activated, because RxJava3 is not on the classpath.
2025-11-04 13:08:15.107 [main] DEBUG i.g.r.s.u.ReactorOnClasspathCondition - Reactor related Aspect extensions are not activated because Reactor is not on the classpath.
2025-11-04 13:08:15.424 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 13:08:15.499 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 1 JPA repository interface.
2025-11-04 13:08:16.966 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8084 (http)
2025-11-04 13:08:16.988 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8084"]
2025-11-04 13:08:16.991 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 13:08:16.991 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.48]
2025-11-04 13:08:17.084 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 13:08:17.085 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3378 ms
2025-11-04 13:08:17.769 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 13:08:17.868 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.33.Final
2025-11-04 13:08:17.938 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 13:08:18.322 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 13:08:18.361 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 13:08:18.718 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6cb3463b
2025-11-04 13:08:18.720 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 13:08:18.775 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 13:08:18.807 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 13:08:19.935 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 13:08:20.012 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 13:08:20.535 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 13:08:22.182 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 13:08:23.423 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-11-04 13:08:23.564 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8084"]
2025-11-04 13:08:23.593 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8084 (http) with context path '/'
2025-11-04 13:08:23.655 [main] INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-email-service-1
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	enable.metrics.push = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = email-service
	group.instance.id = null
	group.protocol = classic
	group.remote.assignor = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer

2025-11-04 13:08:23.716 [main] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-11-04 13:08:23.909 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.9.1
2025-11-04 13:08:23.909 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: f745dfdcee2b9851
2025-11-04 13:08:23.909 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1762258103904
2025-11-04 13:08:23.928 [main] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-email-service-1, groupId=email-service] Subscribed to topic(s): check-out-completed
2025-11-04 13:08:23.940 [main] INFO  o.a.k.c.consumer.ConsumerConfig - ConsumerConfig values: 
	allow.auto.create.topics = true
	auto.commit.interval.ms = 5000
	auto.include.jmx.reporter = true
	auto.offset.reset = earliest
	bootstrap.servers = [localhost:9092]
	check.crcs = true
	client.dns.lookup = use_all_dns_ips
	client.id = consumer-legacy-system-2
	client.rack = 
	connections.max.idle.ms = 540000
	default.api.timeout.ms = 60000
	enable.auto.commit = false
	enable.metrics.push = true
	exclude.internal.topics = true
	fetch.max.bytes = 52428800
	fetch.max.wait.ms = 500
	fetch.min.bytes = 1
	group.id = legacy-system
	group.instance.id = null
	group.protocol = classic
	group.remote.assignor = null
	heartbeat.interval.ms = 3000
	interceptor.classes = []
	internal.leave.group.on.close = true
	internal.throw.on.fetch.stable.offset.unsupported = false
	isolation.level = read_uncommitted
	key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer
	max.partition.fetch.bytes = 1048576
	max.poll.interval.ms = 300000
	max.poll.records = 500
	metadata.max.age.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor, class org.apache.kafka.clients.consumer.CooperativeStickyAssignor]
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	session.timeout.ms = 45000
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer

2025-11-04 13:08:23.941 [main] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-11-04 13:08:23.952 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.9.1
2025-11-04 13:08:23.953 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: f745dfdcee2b9851
2025-11-04 13:08:23.953 [main] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1762258103952
2025-11-04 13:08:23.962 [main] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Subscribed to topic(s): check-out-completed
2025-11-04 13:08:23.992 [main] INFO  com.siemens.clock.ClockApplication - Started ClockApplication in 11.356 seconds (process running for 11.903)
2025-11-04 13:08:24.568 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-email-service-1, groupId=email-service] Cluster ID: kdK9fOiMTnaJuwKmImKciQ
2025-11-04 13:08:24.568 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Cluster ID: kdK9fOiMTnaJuwKmImKciQ
2025-11-04 13:08:24.576 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 13:08:24.577 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Discovered group coordinator host.docker.internal:9092 (id: 2147483647 rack: null)
2025-11-04 13:08:24.579 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 13:08:24.580 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 13:08:24.611 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: need to re-join with the given member-id: consumer-email-service-1-24231cbc-603c-4f4b-ab80-962c14a268dc
2025-11-04 13:08:24.612 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: need to re-join with the given member-id: consumer-legacy-system-2-4d672e3f-7e96-46cd-ada2-cd6d4037d4de
2025-11-04 13:08:24.612 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] (Re-)joining group
2025-11-04 13:08:24.612 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] (Re-)joining group
2025-11-04 13:08:24.618 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully joined group with generation Generation{generationId=65, memberId='consumer-email-service-1-24231cbc-603c-4f4b-ab80-962c14a268dc', protocol='range'}
2025-11-04 13:08:24.630 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully joined group with generation Generation{generationId=67, memberId='consumer-legacy-system-2-4d672e3f-7e96-46cd-ada2-cd6d4037d4de', protocol='range'}
2025-11-04 13:08:24.636 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Finished assignment for group at generation 65: {consumer-email-service-1-24231cbc-603c-4f4b-ab80-962c14a268dc=Assignment(partitions=[check-out-completed-0])}
2025-11-04 13:08:24.636 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Finished assignment for group at generation 67: {consumer-legacy-system-2-4d672e3f-7e96-46cd-ada2-cd6d4037d4de=Assignment(partitions=[check-out-completed-0])}
2025-11-04 13:08:24.647 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Successfully synced group in generation Generation{generationId=67, memberId='consumer-legacy-system-2-4d672e3f-7e96-46cd-ada2-cd6d4037d4de', protocol='range'}
2025-11-04 13:08:24.647 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Successfully synced group in generation Generation{generationId=65, memberId='consumer-email-service-1-24231cbc-603c-4f4b-ab80-962c14a268dc', protocol='range'}
2025-11-04 13:08:24.647 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 13:08:24.648 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Notifying assignor about the new Assignment(partitions=[check-out-completed-0])
2025-11-04 13:08:24.654 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Adding newly assigned partitions: check-out-completed-0
2025-11-04 13:08:24.654 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Adding newly assigned partitions: check-out-completed-0
2025-11-04 13:08:24.669 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=66, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 13:08:24.669 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.internals.ConsumerUtils - Setting offset for partition check-out-completed-0 to the committed offset FetchPosition{offset=66, offsetEpoch=Optional.empty, currentLeader=LeaderAndEpoch{leader=Optional[host.docker.internal:9092 (id: 0 rack: null)], epoch=0}}
2025-11-04 13:08:24.671 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions assigned: [check-out-completed-0]
2025-11-04 13:08:24.671 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions assigned: [check-out-completed-0]
2025-11-04 13:08:47.279 [http-nio-8084-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 13:08:47.279 [http-nio-8084-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 13:08:47.286 [http-nio-8084-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-11-04 13:08:47.812 [http-nio-8084-exec-2] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_IN for employee: i9j1k3l5
2025-11-04 13:08:54.404 [http-nio-8084-exec-3] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_IN for employee: m7n8o2p4
2025-11-04 13:08:57.773 [http-nio-8084-exec-4] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_IN for employee: u4v7w8x9
2025-11-04 13:09:12.469 [http-nio-8084-exec-6] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_OUT for employee: m7n8o2p4
2025-11-04 13:09:12.484 [http-nio-8084-exec-6] INFO  c.s.clock.service.AttendanceService - inside handleCheckOut
2025-11-04 13:09:12.485 [http-nio-8084-exec-6] INFO  c.s.clock.service.AttendanceService - hours worked = 0.0
2025-11-04 13:09:12.490 [http-nio-8084-exec-6] INFO  c.s.clock.service.AttendanceService - check-out event = d4ae9c6d-b7f2-41bd-866a-2b1530b17336
2025-11-04 13:09:12.525 [http-nio-8084-exec-6] INFO  o.a.k.c.producer.ProducerConfig - ProducerConfig values: 
	acks = -1
	auto.include.jmx.reporter = true
	batch.size = 16384
	bootstrap.servers = [localhost:9092]
	buffer.memory = 33554432
	client.dns.lookup = use_all_dns_ips
	client.id = clock-producer-1
	compression.gzip.level = -1
	compression.lz4.level = 9
	compression.type = none
	compression.zstd.level = 3
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = true
	enable.metrics.push = true
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metadata.max.idle.ms = 300000
	metadata.recovery.strategy = none
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.adaptive.partitioning.enable = true
	partitioner.availability.timeout.ms = 0
	partitioner.class = null
	partitioner.ignore.keys = false
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.max.ms = 1000
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.connect.timeout.ms = null
	sasl.login.read.timeout.ms = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.login.retry.backoff.max.ms = 10000
	sasl.login.retry.backoff.ms = 100
	sasl.mechanism = GSSAPI
	sasl.oauthbearer.clock.skew.seconds = 30
	sasl.oauthbearer.expected.audience = null
	sasl.oauthbearer.expected.issuer = null
	sasl.oauthbearer.header.urlencode = false
	sasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000
	sasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100
	sasl.oauthbearer.jwks.endpoint.url = null
	sasl.oauthbearer.scope.claim.name = scope
	sasl.oauthbearer.sub.claim.name = sub
	sasl.oauthbearer.token.endpoint.url = null
	security.protocol = PLAINTEXT
	security.providers = null
	send.buffer.bytes = 131072
	socket.connection.setup.timeout.max.ms = 30000
	socket.connection.setup.timeout.ms = 10000
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.3]
	ssl.endpoint.identification.algorithm = https
	ssl.engine.factory.class = null
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.certificate.chain = null
	ssl.keystore.key = null
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLSv1.3
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.certificates = null
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.springframework.kafka.support.serializer.JsonSerializer

2025-11-04 13:09:12.531 [http-nio-8084-exec-6] INFO  o.a.k.c.t.i.KafkaMetricsCollector - initializing Kafka metrics collector
2025-11-04 13:09:12.601 [http-nio-8084-exec-6] INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=clock-producer-1] Instantiated an idempotent producer.
2025-11-04 13:09:12.659 [http-nio-8084-exec-6] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka version: 3.9.1
2025-11-04 13:09:12.663 [http-nio-8084-exec-6] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka commitId: f745dfdcee2b9851
2025-11-04 13:09:12.663 [http-nio-8084-exec-6] INFO  o.a.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1762258152659
2025-11-04 13:09:12.689 [kafka-producer-network-thread | clock-producer-1] INFO  org.apache.kafka.clients.Metadata - [Producer clientId=clock-producer-1] Cluster ID: kdK9fOiMTnaJuwKmImKciQ
2025-11-04 13:09:12.692 [kafka-producer-network-thread | clock-producer-1] INFO  o.a.k.c.p.i.TransactionManager - [Producer clientId=clock-producer-1] ProducerId set to 22 with epoch 0
2025-11-04 13:09:12.906 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for legacy reporting: m7n8o2p4
2025-11-04 13:09:12.906 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for email notification: m7n8o2p4
2025-11-04 13:09:12.923 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'email-service' with max attempts rate '3'  for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:09:12.923 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'legacy-api' with max attempts rate '1'  for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:09:12.956 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:09:12.957 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:09:12.960 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: m7n8o2p4
2025-11-04 13:09:12.961 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: m7n8o2p4
2025-11-04 13:09:13.062 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:09:13.062 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:09:13.074 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:09:13.074 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:09:13.081 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.0, employeeId=m7n8o2p4}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:09:13.081 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{subject=Daily Work Summary - 2025-11-04, to=m7n8o2p4@company.com, body=You worked 0.00 hours today}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:09:13.320 [http-nio-8084-exec-7] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to m7n8o2p4@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:09:13.320 [http-nio-8084-exec-5] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.0 hours for employee m7n8o2p4
2025-11-04 13:09:13.321 [http-nio-8084-exec-5] WARN  c.s.clock.mock.MockExternalService - MOCK LEGACY: Simulating failure for employee m7n8o2p4
2025-11-04 13:09:13.356 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:09:13.361 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:09:13.368 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' ignored an exception:
com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.LegacySystemService.reportHoursWorked(LegacySystemService.java:61)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.LegacySystemService$$SpringCGLIB$$0.reportHoursWorked(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleLegacyReporting(CheckOutEventConsumer.java:26)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:09:13.380 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:09:13.377905100+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded an error which has been ignored: 'com.siemens.clock.exception.LegacySystemException: Legacy API returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 406 ms
2025-11-04 13:09:13.391 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] ERROR c.s.c.service.LegacySystemService - Fallback triggered for employee: m7n8o2p4, error: Legacy API returned: 503 SERVICE_UNAVAILABLE
2025-11-04 13:09:13.392 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] WARN  c.siemens.clock.service.DlqService - Sending to Legacy DLQ - Employee: m7n8o2p4, Error: Resilience fallback: Legacy API returned: 503 SERVICE_UNAVAILABLE
2025-11-04 13:09:14.935 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:09:14.935 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:09:14.965 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Successfully sent email to employee: m7n8o2p4
2025-11-04 13:09:14.965 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' succeeded:
2025-11-04 13:09:14.966 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:09:14.965025300+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded a successful call. Elapsed time: 2004 ms
2025-11-04 13:09:47.105 [http-nio-8084-exec-8] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_OUT for employee: u4v7w8x9
2025-11-04 13:09:47.126 [http-nio-8084-exec-8] INFO  c.s.clock.service.AttendanceService - inside handleCheckOut
2025-11-04 13:09:47.128 [http-nio-8084-exec-8] INFO  c.s.clock.service.AttendanceService - hours worked = 0.0
2025-11-04 13:09:47.131 [http-nio-8084-exec-8] INFO  c.s.clock.service.AttendanceService - check-out event = d7bdd4df-a8e0-439f-a5c7-64c44c3f5657
2025-11-04 13:09:47.168 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for email notification: u4v7w8x9
2025-11-04 13:09:47.184 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'email-service' with max attempts rate '3'  for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:09:47.169 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for legacy reporting: u4v7w8x9
2025-11-04 13:09:47.201 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:09:47.201 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: u4v7w8x9
2025-11-04 13:09:47.206 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'legacy-api' with max attempts rate '1'  for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:09:47.207 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:09:47.208 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:09:47.212 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:09:47.213 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: u4v7w8x9
2025-11-04 13:09:47.214 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{subject=Daily Work Summary - 2025-11-04, to=u4v7w8x9@company.com, body=You worked 0.00 hours today}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:09:47.215 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:09:47.230 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:09:47.234 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.0, employeeId=u4v7w8x9}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:09:47.254 [http-nio-8084-exec-9] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to u4v7w8x9@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:09:47.257 [http-nio-8084-exec-9] WARN  c.s.clock.mock.MockExternalService - MOCK EMAIL: Simulating failure for u4v7w8x9@company.com
2025-11-04 13:09:47.262 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:09:47.265 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:09:47.269 [http-nio-8084-exec-10] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.0 hours for employee u4v7w8x9
2025-11-04 13:09:47.274 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' ignored an exception:
com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.EmailService.sendCheckOutEmail(EmailService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.EmailService$$SpringCGLIB$$0.sendCheckOutEmail(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleEmailNotification(CheckOutEventConsumer.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:09:47.276 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:09:47.276022600+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded an error which has been ignored: 'com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 72 ms
2025-11-04 13:09:47.802 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:09:47.802 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: u4v7w8x9
2025-11-04 13:09:47.804 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:09:47.805 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:09:47.805 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{subject=Daily Work Summary - 2025-11-04, to=u4v7w8x9@company.com, body=You worked 0.00 hours today}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:09:47.813 [http-nio-8084-exec-1] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to u4v7w8x9@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:09:48.394 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:09:48.395 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:09:48.417 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Successfully sent email to employee: u4v7w8x9
2025-11-04 13:09:48.418 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' succeeded:
2025-11-04 13:09:48.418 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:09:48.418639600+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded a successful call. Elapsed time: 615 ms
2025-11-04 13:09:51.472 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:09:51.472 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:09:51.483 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Successfully reported hours for employee: u4v7w8x9
2025-11-04 13:09:51.483 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' succeeded:
2025-11-04 13:09:51.483 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:09:51.483837+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded a successful call. Elapsed time: 4271 ms
2025-11-04 13:10:08.263 [http-nio-8084-exec-2] INFO  c.s.c.controller.ClockInController - Received attendance request: CHECK_OUT for employee: i9j1k3l5
2025-11-04 13:10:08.270 [http-nio-8084-exec-2] INFO  c.s.clock.service.AttendanceService - inside handleCheckOut
2025-11-04 13:10:08.271 [http-nio-8084-exec-2] INFO  c.s.clock.service.AttendanceService - hours worked = 0.016666666666666666
2025-11-04 13:10:08.272 [http-nio-8084-exec-2] INFO  c.s.clock.service.AttendanceService - check-out event = c0448285-21ad-4e72-88b4-24214cd07743
2025-11-04 13:10:08.282 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for legacy reporting: i9j1k3l5
2025-11-04 13:10:08.288 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.s.c.kafka.CheckOutEventConsumer - Received check-out event for email notification: i9j1k3l5
2025-11-04 13:10:08.288 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'legacy-api' with max attempts rate '1'  for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:10:08.290 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'legacy-api' with failure rate '50.0' for method: 'com.siemens.clock.service.LegacySystemService#reportHoursWorked'
2025-11-04 13:10:08.290 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Reporting hours to legacy system for employee: i9j1k3l5
2025-11-04 13:10:08.291 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/legacy/report
2025-11-04 13:10:08.293 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.retry.configure.RetryAspect - Created or retrieved retry 'email-service' with max attempts rate '3'  for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:10:08.294 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:10:08.294 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:10:08.295 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: i9j1k3l5
2025-11-04 13:10:08.295 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{hoursWorked=0.016666666666666666, employeeId=i9j1k3l5}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:10:08.298 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:10:08.305 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:10:08.307 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{subject=Daily Work Summary - 2025-11-04, to=i9j1k3l5@company.com, body=You worked 0.02 hours today}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:10:08.320 [http-nio-8084-exec-3] INFO  c.s.clock.mock.MockExternalService - MOCK LEGACY: Reporting 0.016666666666666666 hours for employee i9j1k3l5
2025-11-04 13:10:08.325 [http-nio-8084-exec-4] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to i9j1k3l5@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:10:08.326 [http-nio-8084-exec-4] WARN  c.s.clock.mock.MockExternalService - MOCK EMAIL: Simulating failure for i9j1k3l5@company.com
2025-11-04 13:10:08.332 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:10:08.334 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:10:08.338 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' ignored an exception:
com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.EmailService.sendCheckOutEmail(EmailService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.EmailService$$SpringCGLIB$$0.sendCheckOutEmail(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleEmailNotification(CheckOutEventConsumer.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:10:08.341 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:10:08.341891900+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded an error which has been ignored: 'com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 43 ms
2025-11-04 13:10:08.858 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:10:08.859 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: i9j1k3l5
2025-11-04 13:10:08.860 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:10:08.861 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:10:08.862 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{subject=Daily Work Summary - 2025-11-04, to=i9j1k3l5@company.com, body=You worked 0.02 hours today}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:10:08.869 [http-nio-8084-exec-6] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to i9j1k3l5@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:10:08.870 [http-nio-8084-exec-6] WARN  c.s.clock.mock.MockExternalService - MOCK EMAIL: Simulating failure for i9j1k3l5@company.com
2025-11-04 13:10:08.872 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:10:08.873 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:10:08.874 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' ignored an exception:
com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.EmailService.sendCheckOutEmail(EmailService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.EmailService$$SpringCGLIB$$0.sendCheckOutEmail(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleEmailNotification(CheckOutEventConsumer.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:10:08.876 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:10:08.876858400+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded an error which has been ignored: 'com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 15 ms
2025-11-04 13:10:09.881 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.s.c.c.CircuitBreakerAspect - Created or retrieved circuit breaker 'email-service' with failure rate '50.0' for method: 'com.siemens.clock.service.EmailService#sendCheckOutEmail'
2025-11-04 13:10:09.883 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  c.siemens.clock.service.EmailService - Sending email to employee: i9j1k3l5
2025-11-04 13:10:09.885 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - HTTP POST http://localhost:8084/api/email/send
2025-11-04 13:10:09.886 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Accept=[application/json, application/*+json]
2025-11-04 13:10:09.887 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Writing [{subject=Daily Work Summary - 2025-11-04, to=i9j1k3l5@company.com, body=You worked 0.02 hours today}] with org.springframework.http.converter.json.MappingJackson2HttpMessageConverter
2025-11-04 13:10:09.899 [http-nio-8084-exec-5] INFO  c.s.clock.mock.MockExternalService - MOCK EMAIL: Sending email to i9j1k3l5@company.com - Daily Work Summary - 2025-11-04
2025-11-04 13:10:09.899 [http-nio-8084-exec-5] WARN  c.s.clock.mock.MockExternalService - MOCK EMAIL: Simulating failure for i9j1k3l5@company.com
2025-11-04 13:10:09.904 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 503 SERVICE_UNAVAILABLE
2025-11-04 13:10:09.905 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:10:09.906 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'email-service' ignored an exception:
com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE
	at com.siemens.clock.service.EmailService.sendCheckOutEmail(EmailService.java:63)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$0(CircuitBreaker.java:71)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:739)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:179)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.proceed(CircuitBreakerAspect.java:126)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.lambda$circuitBreakerAroundAdvice$0(CircuitBreakerAspect.java:108)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:37)
	at io.github.resilience4j.spring6.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:109)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$1(Retry.java:152)
	at io.github.resilience4j.retry.Retry.executeCheckedSupplier(Retry.java:512)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:175)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.proceed(RetryAspect.java:132)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.lambda$retryAroundAdvice$0(RetryAspect.java:116)
	at io.github.resilience4j.spring6.fallback.DefaultFallbackDecorator.lambda$decorate$0(DefaultFallbackDecorator.java:36)
	at io.github.resilience4j.spring6.fallback.FallbackExecutor.execute(FallbackExecutor.java:39)
	at io.github.resilience4j.spring6.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:649)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:631)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:173)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.siemens.clock.service.EmailService$$SpringCGLIB$$0.sendCheckOutEmail(<generated>)
	at com.siemens.clock.kafka.CheckOutEventConsumer.handleEmailNotification(CheckOutEventConsumer.java:32)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)
	at org.springframework.kafka.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45)
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)
	at org.springframework.kafka.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:78)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:475)
	at org.springframework.kafka.listener.adapter.MessagingMessageListenerAdapter.invoke(MessagingMessageListenerAdapter.java:421)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:85)
	at org.springframework.kafka.listener.adapter.RecordMessagingMessageListenerAdapter.onMessage(RecordMessagingMessageListenerAdapter.java:50)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeOnMessage(KafkaMessageListenerContainer.java:2887)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeOnMessage(KafkaMessageListenerContainer.java:2865)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeRecordListener(KafkaMessageListenerContainer.java:2777)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doInvokeWithRecords(KafkaMessageListenerContainer.java:2614)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeRecordListener(KafkaMessageListenerContainer.java:2503)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeListener(KafkaMessageListenerContainer.java:2152)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.invokeIfHaveRecords(KafkaMessageListenerContainer.java:1528)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1466)
	at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1335)
	at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)
	at java.base/java.lang.Thread.run(Thread.java:842)
2025-11-04 13:10:09.907 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event IGNORED_ERROR published: 2025-11-04T13:10:09.907229100+01:00[Europe/Berlin]: CircuitBreaker 'email-service' recorded an error which has been ignored: 'com.siemens.clock.exception.EmailServiceException: Email service returned: 503 SERVICE_UNAVAILABLE'. Elapsed time: 23 ms
2025-11-04 13:10:09.908 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR c.siemens.clock.service.EmailService - Fallback triggered for email to: i9j1k3l5, error: Email service returned: 503 SERVICE_UNAVAILABLE
2025-11-04 13:10:09.908 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  c.siemens.clock.service.DlqService - Sending to Email DLQ - Employee: i9j1k3l5, Error: Resilience fallback: Email service returned: 503 SERVICE_UNAVAILABLE
2025-11-04 13:10:12.137 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Response 200 OK
2025-11-04 13:10:12.138 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG o.s.web.client.RestTemplate - Reading to [java.util.Map<?, ?>]
2025-11-04 13:10:12.146 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  c.s.c.service.LegacySystemService - Successfully reported hours for employee: i9j1k3l5
2025-11-04 13:10:12.146 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - CircuitBreaker 'legacy-api' succeeded:
2025-11-04 13:10:12.147 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] DEBUG i.g.r.c.i.CircuitBreakerStateMachine - Event SUCCESS published: 2025-11-04T13:10:12.146422500+01:00[Europe/Berlin]: CircuitBreaker 'legacy-api' recorded a successful call. Elapsed time: 3856 ms
2025-11-04 13:11:57.969 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-email-service-1, groupId=email-service] Revoke previously assigned partitions check-out-completed-0
2025-11-04 13:11:57.969 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerRebalanceListenerInvoker - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Revoke previously assigned partitions check-out-completed-0
2025-11-04 13:11:57.972 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: partitions revoked: [check-out-completed-0]
2025-11-04 13:11:57.972 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: partitions revoked: [check-out-completed-0]
2025-11-04 13:11:57.974 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Member consumer-legacy-system-2-4d672e3f-7e96-46cd-ada2-cd6d4037d4de sending LeaveGroup request to coordinator host.docker.internal:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2025-11-04 13:11:57.974 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Member consumer-email-service-1-24231cbc-603c-4f4b-ab80-962c14a268dc sending LeaveGroup request to coordinator host.docker.internal:9092 (id: 2147483647 rack: null) due to the consumer unsubscribed from all topics
2025-11-04 13:11:57.975 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:11:57.975 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:11:57.975 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:11:57.975 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:11:57.975 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Unsubscribed all topics or patterns and assigned partitions
2025-11-04 13:11:57.975 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ClassicKafkaConsumer - [Consumer clientId=consumer-email-service-1, groupId=email-service] Unsubscribed all topics or patterns and assigned partitions
2025-11-04 13:11:57.980 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:11:57.980 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Resetting generation and member id due to: consumer pro-actively leaving the group
2025-11-04 13:11:57.980 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-email-service-1, groupId=email-service] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:11:57.980 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.k.c.c.i.ConsumerCoordinator - [Consumer clientId=consumer-legacy-system-2, groupId=legacy-system] Request joining group due to: consumer pro-actively leaving the group
2025-11-04 13:11:58.071 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 13:11:58.072 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 13:11:58.072 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 13:11:58.072 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 13:11:58.084 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-legacy-system-2 unregistered
2025-11-04 13:11:58.086 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - legacy-system: Consumer stopped
2025-11-04 13:11:58.454 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 13:11:58.454 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 13:11:58.454 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 13:11:58.454 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 13:11:58.457 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.consumer for consumer-email-service-1 unregistered
2025-11-04 13:11:58.459 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  o.s.k.l.KafkaMessageListenerContainer - email-service: Consumer stopped
2025-11-04 13:11:58.461 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 13:11:58.738 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 13:11:58.742 [SpringApplicationShutdownHook] INFO  o.a.k.clients.producer.KafkaProducer - [Producer clientId=clock-producer-1] Closing the Kafka producer with timeoutMillis = 30000 ms.
2025-11-04 13:11:58.755 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Metrics scheduler closed
2025-11-04 13:11:58.755 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.metrics.JmxReporter
2025-11-04 13:11:58.755 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Closing reporter org.apache.kafka.common.telemetry.internals.ClientTelemetryReporter
2025-11-04 13:11:58.756 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.metrics.Metrics - Metrics reporters closed
2025-11-04 13:11:58.758 [SpringApplicationShutdownHook] INFO  o.a.kafka.common.utils.AppInfoParser - App info kafka.producer for clock-producer-1 unregistered
2025-11-04 13:11:58.776 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 13:11:58.785 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 13:11:58.791 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
